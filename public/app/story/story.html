<div class="container" ng-show="!loading">
	<div class="tabbable-panel">
		<div class="tabbable-line">
			<ul class="nav nav-tabs ">
				<li ng-click="changeTab('BACKLOG');"  ng-class="{'active': selectedTab == 'BACKLOG' }">
					<a data-toggle="tab">
					BACKLOG </a>
				</li>
				<li ng-click="changeTab('CURRENT');" ng-class="{'active': selectedTab == 'CURRENT' }">
					<a data-toggle="tab">
					CURRENT SPRINT </a>
				</li>
			</ul>

			<div class="tab-content">
				<div class="tab-pane" id="tab_default_1" ng-class="{'active': selectedTab == 'BACKLOG' }">
					<h5>BACKLOG STORIES</h5>
					<div class="float-right">
					    <button class="btn btn-success btn-add" type="button" ng-click="showModal('#add')">
					    <i class="glyphicon glyphicon-plus gs"></i>
					    Add Story
					    </button>
					 </div>
					    <table id="mytable" class="table table-hover table-bordered table-striped">
					      <thead>
					        <tr>
					          <th>S.No</th>
					          <th>CREATED DATE</th>
					          <th>JIRA ID</th>
					          <th>MODULE</th>
					          <th>STORY POINT</th>
					          <th class="text-center">Actions</th>
					          <th>
					          <div ng-show="user.userRole === 'LEAD'">
					          	<input type="checkbox" value="" id="check" ng-model="isAllSelected" ng-change="isSelectAll()">
					          	<select id="selectUser" name="selectUser" ng-model="assignToId">
					          		<option value="select" ng-selected={{!assignToId}}>Select</option>
					          		<option ng-repeat="user in users" value="{{user.id}}">{{user.userName}}</option>
					          	 </select>
					          	 <button class='btn btn-info btn-xs' type="button" id="save" ng-click="assignToSprint()"><span class="glyphicon glyphicon-ok"></span>Save</button>
							  </div>
					
					          <div ng-hide="user.userRole === 'LEAD'">
					          	<input type="checkbox" value="" id="check" ng-model="isAllSelected" ng-change="isSelectAll()" >
					          	<button class='btn btn-primary btn-sm' type="button">Assign To Me</button>
					         </div>
					         </th>
					        </tr>
					      </thead>
					      <tbody>
					        <tr ng-repeat="story in backlogtories track by $index">
					          <td>{{$index+1}}
					          <td>{{story.userStoryStatus.createdDate}}</td>
					          <td>{{story.jiraId}}</td>
					          <td>{{story.moduleName}}</td>
					          <td>{{story.storyPoint}}</td> 	          
					          <td class="text-center table-actions-medium"><button class='btn btn-info btn-xs' type="button"><span class="glyphicon glyphicon-edit"></span> Edit</button> <button class="btn btn-danger btn-xs"><span class="glyphicon glyphicon-trash"></span> Del</button></td>
					          <td><input type="checkbox" id="check" ng-model="storiesList[$index]" ng-change="isLabelChecked(story, storiesList[$index], $index)"></td>
					        </tr>
					      </tbody>
					    </table>
				</div>
				<div class="tab-pane" id="tab_default_2" ng-class="{'active': selectedTab == 'CURRENT' }">
						<h5>CURRENT SPRINT STORIES</h5>
					    <table id="mytable" class="table table-hover table-bordered table-striped" width="100%">
					      <thead>
					        <tr>
				          		<th class="text-center" width="3%">S.No</th>
					          	<th class="text-center" width="13%">CREATED DATE</th>
					          	<th class="text-center" width="13%">ASSIGNED DATE</th>
					          	<th class="text-center" width="13%">JIRA ID</th>
					          	<th class="text-center" width="10%">MODULE</th>
					          	<th class="text-center" width="12%">STORY POINT</th>
					          	<th class="text-center" width="20%">STATUS</th>
					          	<th class="text-center" width="15%">Edit</th>
					        </tr>
					      </thead>
					      <tbody>
					        <tr ng-repeat="story in stories track by $index">
					          	<td align="center">{{$index+1}}
					          	<td align="center">{{story.userStoryStatus.createdDate}}</td>
					          	<td align="center">{{story.userStoryStatus.assignedDate}}</td>
					          	<td align="center">{{story.jiraId}}</td>
					          	<td align="center">{{story.moduleName}}</td>
				          		<td align="center">{{story.storyPoint}}</td>
					          	<td align="center">
				                    <div  ng-show="oldStoryStatus">
				                    	{{story.userStoryStatus.status}}
				                     </div>

	                      			<div  ng-show="newStoryStatus">
			                            <select ng-model="story.userStoryStatus.status">
			                                <option value="">--Select --</option>
			                                <option ng-repeat="option in availableOptions" ng-selected="{{story.userStoryStatus.status == option.value}}" value="{{option.value}}">{{option.name}}</option>
			                            </select>
			                        </div>  
                      			</td>

			                    <td align="center">
				                    <div ng-show="editStatus">
				                        <div data-placement="top" data-toggle="tooltip" title="Edit">
				                        	<button class='btn btn-info btn-xs' type="button" data-title="Edit" data-toggle="modal" data-target="#edit" ng-click="editStory(story)"><span class="glyphicon glyphicon-edit"></span>Edit
				                        	</button>
				                        </div>
				                     </div>

			                      	<div  ng-show="saveStatus" >
			                        	<div data-placement="top" data-toggle="tooltip">
			                          		<button class='btn btn-success btn-xs' type="button" ng-click="saveStoryStatus(story)"><span class="glyphicon glyphicon-ok"></span>Save</button>

			                          		<button class='btn btn-default btn-xs' type="button" ng-click="cancelEditStoryStatus()"><span class="glyphicon glyphicon-remove"></span>Cancel</button>
			                        	</div>
			                      	</div>
			                    </td>
					        </tr>
					      </tbody>
					    </table>
				</div>
			
			</div>
     
  		</div>
	</div>
</div>


<div class="modal fade" id="edit" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Edit Your Detail</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <input class="form-control " type="text" placeholder="Mohsin">
        </div>
        <div class="form-group">
          <input class="form-control " type="text" placeholder="Irshad">
        </div>
        <div class="form-group">
          <textarea rows="2" class="form-control" placeholder="CB 106/107 Street # 11 Wah Cantt Islamabad Pakistan"></textarea>
        </div>
      </div>
      <div class="modal-footer ">
        <button type="button" class="btn btn-warning btn-lg" style="width: 100%;"><span class="glyphicon glyphicon-ok-sign"></span> Update</button>
      </div>
    </div>
    <!-- /.modal-content --> 
  </div>
  <!-- /.modal-dialog --> 
</div>

<div class="modal fade" id="add" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" ng-click="closeModal('#add')" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
				<h4 class="modal-title custom_align" id="Heading">Edit Your Detail</h4>
			</div>
			<div class="modal-body">

				<div class="sprint-errors" ng-show="errorMessage">
					<div class="alert alert-warning">
						<strong>Error. </strong> {{errorMessage}}
					</div>
				</div>

				<div class="form-group">
					<label class="label-title">Jira Id:</label>
					<input class="form-control" id="disabledInput" placeholder="Jira Id (e.g DOMO-0123)" type="text"  ng-model="story.jiraId">
				</div>

				<div class="form-group">
					<label class="label-title">Created Date:</label>
					<input class="form-control" id="disabledInput" placeholder="Created Date (yyyy-MM-dd)" type="text"  ng-model="story.createdDate">
				</div>

				<div class="form-group">
					<label class="label-title">Story Point:</label>
					<input class="form-control" type="text" placeholder="Story Point(1,2,3,5,8,13)" ng-model="story.storyPoint">
				</div>

				<div class="form-group">
					<label class="label-title">Module:</label>
					<select id="moduleDropdown" name="module" placeholder="Select Module" class="form-control" ng-model=story.module>
						<option value="GAMBIT" >Gambit</option>
						<option value="GOONIS" >Goonis</option>
						<option value="MATRIX" >Matrix</option>
					</select>
				</div>

				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal" ng-click="closeModal('#add')">Cancel</button>
					<button type="button" class="btn btn-primary" ng-disabled="error" ng-click="addStory(story)">Add</button>
				</div>
		</div>
		<!-- /.modal-content -->
	</div>
	<!-- /.modal-dialog -->
</div>

<div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="edit" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span></button>
        <h4 class="modal-title custom_align" id="Heading">Delete this entry</h4>
      </div>
      <div class="modal-body">
        <div class="alert alert-danger"><span class="glyphicon glyphicon-warning-sign"></span> Are you sure you want to delete this Record?</div>
      </div>
      <div class="modal-footer ">
        <button type="button" class="btn btn-success" ><span class="glyphicon glyphicon-ok-sign"></span> Yes</button>
        <button type="button" class="btn btn-default" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span> No</button>
      </div>
    </div>
    <!-- /.modal-content --> 
  </div>
  <!-- /.modal-dialog --> 
</div>
    
    